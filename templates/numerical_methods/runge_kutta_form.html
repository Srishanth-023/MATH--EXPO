{% extends "numerical_methods/base.html" %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h2>Runge-Kutta Method Solver</h2>
    </div>
    <div class="card-body">
        <div class="formula-container mb-4">
            <h4>4th Order Runge-Kutta Method Formula:</h4>
            <p>\[ y_{n+1} = y_n + \frac{1}{6}(k_1 + 2k_2 + 2k_3 + k_4) \]</p>
            <p>Where:</p>
            <p>\[ \begin{align*}
                k_1 &= hf(x_n, y_n) \\
                k_2 &= hf(x_n + \frac{h}{2}, y_n + \frac{k_1}{2}) \\
                k_3 &= hf(x_n + \frac{h}{2}, y_n + \frac{k_2}{2}) \\
                k_4 &= hf(x_n + h, y_n + k_3)
            \end{align*} \]</p>
        </div>

        <form method="POST" action="{{ url_for('numerical_methods.runge_kutta_method') }}">
            <div class="mb-3">
                <label for="function" class="form-label">ODE (dy/dx = f(x,y)):</label>
                <input type="text" class="form-control" id="function" name="function" 
                       placeholder="e.g., x + y" required>
                <div class="form-text">Use 'x' for independent variable and 'y' for dependent variable</div>
            </div>
            <div class="row">
                <div class="col-md-3 mb-3">
                    <label for="x0" class="form-label">Initial x (x₀):</label>
                    <input type="number" step="any" class="form-control" id="x0" name="x0" required>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="y0" class="form-label">Initial y (y₀):</label>
                    <input type="number" step="any" class="form-control" id="y0" name="y0" required>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="h" class="form-label">Step size (h):</label>
                    <input type="number" step="any" class="form-control" id="h" name="h" required>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="target_x" class="form-label">Target x:</label>
                    <input type="number" step="any" class="form-control" id="target_x" name="target_x" required>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Solve</button>
        </form>
    </div>
</div>
{% endblock %}