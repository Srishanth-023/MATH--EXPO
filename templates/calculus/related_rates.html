{% extends "calculus/base.html" %}

{% block title %}Related Rates{% endblock %}
{% block heading %}Related Rates Calculator{% endblock %}
{% block subheading %}Compute derivatives of changing quantities with respect to time{% endblock %}

{% block content %}
<div class="calculation-container">
    <div class="calculation-header">
        <h2>Related Rates</h2>
        <p class="subtitle">Calculate how quantities change together over time</p>
    </div>

    <div class="calculation-form">
        <form method="post" class="calculus-form">
            <div class="form-group">
                <label>Quantity x(t):</label>
                <input type="text" class="form-control" name="expression" 
                       placeholder="e.g., t**2 + 3*t, sin(2*t), sqrt(t+1)" required>
            </div>

            <div class="form-group">
                <label>With respect to:</label>
                <select class="form-control" name="variable">
                    <option value="t">Time (t)</option>
                    <option value="x">Variable (x)</option>
                    <option value="y">Variable (y)</option>
                </select>
            </div>

            <button type="submit" class="btn-calculate">
                <i class="bi bi-speedometer2"></i> Compute Rate of Change
            </button>
        </form>
    </div>

    {% if result %}
    <div class="result-container">
        <h4>Related Rates Result</h4>
        <div class="result-box">
            <p>d<span class="variable">{{ variable }}</span>/dt = <span class="result-value">{{ result }}</span></p>
            {% if context %}
            <div class="context-note">
                <p>{{ context }}</p>
            </div>
            {% endif %}
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}