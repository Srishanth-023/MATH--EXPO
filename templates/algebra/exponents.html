{% extends "algebra/base.html" %}

{% block content %}
<div class="tool-container">
    <div class="card shadow-lg">
        <div class="card-header bg-primary text-white">
            <h2 class="h4 mb-0"><i class="fas fa-superscript"></i> Algebraic Exponents Calculator</h2>
        </div>
        <div class="card-body">
            <form method="POST" id="exponentsForm">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="base" class="form-label">Base:</label>
                        <input type="text" class="form-control math-input" id="base" name="base" 
                               placeholder="e.g., x, 2x+1, (x^2-4)" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="power" class="form-label">Exponent:</label>
                        <input type="text" class="form-control math-input" id="power" name="power"
                               placeholder="e.g., 2, x, x+3" required>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-calculator me-1"></i> Calculate
                </button>
            </form>

            {% if result %}
            <div class="result-box mt-4 p-3 bg-light rounded border-start border-4 border-success">
                <h5 class="text-success">Result:</h5>
                <div class="math-result fs-4">
                    ({{ request.form.base }})<sup>{{ request.form.power }}</sup> = {{ result }}
                </div>
            </div>
            {% endif %}

            {% if error %}
            <div class="alert alert-danger mt-3">{{ error }}</div>
            {% endif %}
        </div>
        <div class="card-footer bg-light">
            <h5 class="h6 mb-2">Examples:</h5>
            <div class="d-flex flex-wrap gap-2">
                <button type="button" class="btn btn-sm btn-outline-primary"
                        onclick="fillExample('x', '2')">x²</button>
                <button type="button" class="btn btn-sm btn-outline-primary"
                        onclick="fillExample('2x', '3')">(2x)³</button>
                <button type="button" class="btn btn-sm btn-outline-primary"
                        onclick="fillExample('x+1', 'x')">(x+1)ˣ</button>
                <button type="button" class="btn btn-sm btn-outline-primary"
                        onclick="fillExample('x^2-1', '1/2')">(x²-1)½</button>
            </div>
        </div>
    </div>
</div>

<script>
function fillExample(base, power) {
    document.getElementById('base').value = base;
    document.getElementById('power').value = power;
}
</script>
{% endblock %}